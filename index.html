<html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <style>
            /* https://jrl.ninja/etc/1/ and https://news.ycombinator.com/item?id=19607169 */
            body {font-family: sans-serif; line-height: 1.3; max-width: 600px; padding: 1.5em; margin: auto}
            pre, code {font-family: "Consolas", monospace}
            code {background-color: lightgrey}
            pre {border: 1px solid; padding: 1em}
            .bad {color: red; background-color: lightgray}
        </style>
    </head>
    <body>
        <div class="container">
            <h1>Solarpunk</h1>

            <h2>Writing fast K code</h2>
            
            <p>Try to avoid using 'each' (<code>'</code>) and 'window' (<code>':</code>).</p>

            <p><a href="https://en.wikipedia.org/wiki/Rule_30">Rule 30</a>:</p>
            <pre>
                              #                             
                             ###                            
                            ##  #                           
                           ## ####                          
                          ##  #   #                         
                         ## #### ###                        
                        ##  #    #  #                       
                       ## ####  ######                      
                      ##  #   ###     #                     
                     ## #### ##  #   ###                    
                    ##  #    # #### ##  #                   
                   ## ####  ## #    # ####                  
                  ##  #   ###  ##  ## #   #                 
                 ## #### ##  ### ###  ## ###                
                ##  #    # ###   #  ###  #  #               
               ## ####  ## #  # #####  #######              
              ##  #   ###  #### #    ###      #             
             ## #### ##  ###    ##  ##  #    ###            
            ##  #    # ###  #  ## ### ####  ##  #           
           ## ####  ## #  ######  #   #   ### ####          
          ##  #   ###  ####     #### ### ##   #   #         
         ## #### ##  ###   #   ##    #   # # ### ###        
        ##  #    # ###  # ### ## #  ### ## # #   #  #       
       ## ####  ## #  ### #   #  ####   #  # ## ######      
      ##  #   ###  ####   ## #####   # ##### #  #     #     
     ## #### ##  ###   # ##  #    # ## #     #####   ###    
    ##  #    # ###  # ## # ####  ## #  ##   ##    # ##  #
</pre>
            <code><pre>
/ setup
(r;c):26 60                / rows (iterations), columns
s:(2/c)=!c                 / starting state

/ next state: left XOR (middle OR right)
n1:{{~x=y|z} .<span class="bad">'</span> 3<span class="bad">':</span>0,x,0}  / original
n2:{{~x=y|z} . +3<span class="bad">':</span>0,x,0}  / with help of k expert
n3:{~=[0,-1_x; x|1_x,0]}   / with more help of k expert

` 0: " #" r n1\ s;         / iterate, display  

/ check that giving same results
~[r n1\ s; r n2\ s]        / 1
~[r n2\ s; r n3\ s]        / 1

/ performance
\t:1000 r n1\ s            / 1445
\t:1000 r n2\ s            / 550
\t:1000 r n3\ s            / 36
</pre></code>
          
        </div>
    </body>
</html>
